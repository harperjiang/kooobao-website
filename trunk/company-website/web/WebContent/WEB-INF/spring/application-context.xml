<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<import resource="env.xml" />
	<import resource="auth.xml" />

	<bean id="customerDao" class="com.kooobao.cws.domain.customer.JpaCustomerDao">
		<property name="entityManager" ref="entityManager" />
	</bean>
	<bean id="bookDao" class="com.kooobao.cws.domain.book.JpaBookDao">
		<property name="entityManager" ref="entityManager" />
	</bean>
	<bean id="categoryDao" class="com.kooobao.cws.domain.book.JpaCategoryDao">
		<property name="entityManager" ref="entityManager" />
	</bean>

	<bean id="bookService" class="com.kooobao.cws.service.book.DefaultBookService">
		<property name="bookDao" ref="bookDao" />
		<property name="categoryDao" ref="categoryDao" />
	</bean>
	
	<bean id="articleService" class="com.kooobao.cws.dummy.DummyArticleService" />
	
	<bean id="customerService" class="com.kooobao.cws.service.customer.DefaultCustomerService">
		<property name="mailSender">
			<bean class="org.springframework.mail.javamail.JavaMailSenderImpl">
				<property name="host" value="smtp.exmail.qq.com" />
				<property name="port" value="25" />
				<property name="username" value="info@kooobao.cn" />
				<property name="password" value="debbie1984" />
			</bean>
		</property>
		<property name="customerDao" ref="customerDao" />
		<property name="userService" ref="userService" />
	</bean>

	<bean id="categoryInfoBean" class="com.kooobao.cws.web.book.CategoryInfoBean">
		<property name="bookService" ref="bookService" />
	</bean>

	<bean id="indexPageBean" class="com.kooobao.cws.web.index.IndexPageBean">
		<property name="bookService" ref="bookService" />
		<property name="articleService" ref="articleService" />
	</bean>

	<bean id="suppDataBean" class="com.kooobao.cws.web.supp.SuppDataBean" />
</beans>